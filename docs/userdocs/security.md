# امنیت

## مروری بر امنیت

طراحی پروتکل zkSync به صراحت مفروضات رمزنگاری و ویژگی های امنیتی پروتکل را فهرست می کند.                 &#x20;

به طور خلاصه، ادعای پروتکل این است که با توجه به اجرای صحیح و اعتبار مفروضات رمزنگاری، وجوهی که در zkSync قرار می‌گیرند همان ضمانت‌های امنیتی را خواهند داشت که گویی در یک حساب اتریوم بدون هیچ الزام اضافی از جانب کاربر نگهداری می‌شوند. به خصوص:                                                                                   &#x20;

* کاربران نیازی به نظارت بر شبکه ندارند.
* کلیدهای خصوصی را می توان در سردخانه نگهداری کرد.
* اعتباردهنده ها به هیچ وجه نمی توانند وجوه را بدزدند یا وضعیت zkSync را خراب کنند.
* کاربران می‌توانند دارایی‌های خود را بدون توجه به همکاری اعتباردهنده‌های zkSync از شبکه اصلی خارج کنند.

مکانیسم های مختلفی برای تحقق این تضمین ها استفاده می شود که در زیر مورد بحث قرار می گیرد.                 &#x20;

## اثبات اعتبار

زی کی سینک بر اساس معماری zkRollup ساخته شده است. این بدان معناست که هر تراکنش با یک قرارداد هوشمند در شبکه اصلی اتریوم و با تأیید صحت بلاک تأیید می شود. بنابراین، هیچ اعتبارسنجی هرگز نمی تواند سیستم را به حالت نادرست منتقل کند یا سرمایه کاربران را بگیرد.                                                                                           &#x20;

برای مرور کلی بیشتر مزایای اثبات اعتبار، این مقاله را ببینید.                                                                                  &#x20;

## صف اولویت دار

در شرایط اضطراری نهایی که تمام اعتبارسنجی‌ها خاموش می‌شوند یا پاسخگو نیستند، مکانیسم خروج اضطراری تضمین می‌کند که کاربران کنترل دارایی‌های خود را حفظ خواهند کرد. به صورت زیر عمل می کند.                            &#x20;

1. اگر تراکنش‌های یک کاربر به هر دلیلی توسط اعتبارسنجی‌ها نادیده گرفته شود، درخواست خروج می‌تواند مستقیماً در شبکه اصلی در صف اولویت ارسال شود.                                                                                               &#x20;
2. اعتبار رسان ها موظفند درخواست های صف اولویت را در یک بازه زمانی کوتاه (\~1 هفته) پردازش کنند.             &#x20;
3. در صورتی که اعتبار سنجی ها نتوانند درخواست ها را پردازش کنند، سیستم وارد حالت exodus می شود و هر کاربر می تواند بلافاصله با انجام یک تراکنش مستقیم در شبکه اصلی اتریوم، از تمام دارایی های خود خارج شود.&#x20;

## مکانیزم ارتقا

نسخه 1.0 پروتکل zkSync با مکانیزم ارتقاء قرارداد به منظور تسهیل تکرارهای طراحی سریعتر ارائه می شود. با این حال، کاربران یک حق اساسی برای انصراف از ارتقاء آینده دارند. یک ارتقای جدید باید از طریق قرارداد zkSync اعلام شود و همه کاربران یک دوره زمانی 4 هفته‌ای برای خروج دریافت می‌کنند، در صورتی که تغییرات را دوست ندارند.

برای ایجاد تعادل بین امنیت و قابلیت ارتقا، شورای امنیت، گروهی متشکل از 15 عضو از جامعه اتریوم، می‌تواند قفل زمانی 4 هفته‌ای را کوتاه کند. هنگامی که Matter Labs ارتقاء را آغاز می کند، امضای 9/15 از اعضای شورای امنیت می تواند ارتقا را فوری کند. در این مرحله از zkSync، ما بر این باوریم که احتمال باگ ها به طور قابل توجهی بیشتر از تبانی مخرب بین تیم Matter Labs و 9/15 اعضای شورای امنیت است که همگی از اعضای شناخته شده جامعه اتریوم هستند. می‌توانید درباره تصمیم برای کوتاه کردن دوره قفل زمانی در مقاله شورای امنیت 2.0 ما بیشتر بخوانید.&#x20;

توجه: هنگامی که فناوری بالغ و پایدار شد، به یک مکانیسم انتخاب دقیق با نسخه‌های غیرقابل تغییر انتقال می‌دهیم و همچنین یک عملکرد مهاجرت انبوه را ارائه می‌کنیم.                                                                                           &#x20;

## رمزنگاری استفاده شده

اگرچه zkSync بر روی برخی از پیشرفته‌ترین رمزنگاری‌ها (مانند PLONK و RedShift) ساخته شده است، اما ما نسبت به انتخاب‌های امنیتی انجام‌شده در پروتکل بسیار محافظه‌کار بودیم. هر مؤلفه منحصراً بر مفروضات رمزنگاری تثبیت شده متکی است که به طور گسترده در جوامع امنیتی دانشگاهی و حرفه ای معتبر هستند.                                   &#x20;

### Primitives

| Primitive                                      | Application       | Cryptographic assumption |
| ---------------------------------------------- | ----------------- | ------------------------ |
| [PLONK](https://eprint.iacr.org/2019/953)      | Proof system (v1) | 1, 3                     |
| [RedShift](https://eprint.iacr.org/2019/1400)  | Proof system (v2) | 1                        |
| [SHA256](https://en.wikipedia.org/wiki/SHA-2)  | Hash function     | 1                        |
| [Rescue](https://eprint.iacr.org/2019/426.pdf) | Hash function     | 1, 2                     |
| [muSig](https://eprint.iacr.org/2018/068)      | Signature scheme  | 1, 2, 3                  |

### Cryptographic assumptions

1. [Collision-resistance](https://en.wikipedia.org/wiki/Collision\_resistance)
2. [Pseudo-randomness](https://en.wikipedia.org/wiki/Pseudorandomness)
3. [Discrete logarithm problem, on elliptic curves and finite fields](https://en.wikipedia.org/wiki/Discrete\_logarithm#Cryptography)

## راه اندازی CRS جهانی

نسخه 1.0 پروتکل zkSync از سیستم اثبات PLONK استفاده می کند که به "تنظیم قابل اعتماد" یک رشته مرجع مشترک (CRS) نیاز دارد. در PLONK، این راه‌اندازی را می‌توان یک بار انجام داد و توسط هر تعداد برنامه مجدداً استفاده شد (به آن Universal CRS می‌گویند). اگر حداقل یک شرکت کننده آنتروپی (تصادفی) مورد استفاده برای ارائه مشارکت خود را حذف کند، تنظیم امن است. داشتن راه‌اندازی جهانی، و نه ویژه برنامه، مفروضات اعتماد را به‌طور قابل‌توجهی کاهش می‌دهد، زیرا تعداد بیشتری از اعضای برجسته و محترم جامعه انگیزه شرکت در آن را دارند، و می‌توان انتظار داشت که در مراسم راه‌اندازی مورد اعتماد، بررسی دقیق‌تری انجام شود.                                       &#x20;

یکی دیگر از مزیت های بزرگ CRS جهانی این است که به روز رسانی ها و رفع اشکالات به تشریفات راه اندازی مورد اعتماد خود نیاز ندارند (که از منظر لجستیکی و امنیتی بسیار دشوار است).                                                        &#x20;

شرکت Matter labsدر مراسم راه‌اندازی قابل اعتماد Ignition برای PLONK در منحنی بیضوی BN256، که توسط پروتکل AZTEC هماهنگ شده بود، شرکت کرد:                                                                                                &#x20;

| Participation address | 0x04a23ba68e4469061cd461e8b847e820d4ced948                                                                                           |
| --------------------- | ------------------------------------------------------------------------------------------------------------------------------------ |
| Transcript hash       | 0x1f6647d91a9e667173640b67b654cabc81ceee98d6100f259788afb34a3fc529                                                                   |
| Signature             | 0x3f4ff7b9a6668c23c9ba45d73d1d9d0902b881191d97b307969b63f52296f2326d437ea04dd67a2ebe57a691025d7d31bb0dae88e8023a0d9b15ad599c3eb9351b |

این مراسم از اکتبر 2019 تا دسامبر 2019 برگزار شد و 176 شرکت کننده از بیش از 30 کشور برای محاسبه یک پایگاه داده امن از نقاط رمزگذاری شده، از جمله Vitalik Buterin و دیگر اعضای برجسته جامعه رمزنگاری، همکاری کردند. متن کامل مراسم با لیست افراد و سازمان هایی که ادعای مشارکت خود را داشته اند در اینجا موجود است. می توانید از این اسکریپت برای تأیید مشارکت شرکت کنندگان لیست شده استفاده کنید.                                                      &#x20;

علیرغم تکیه بر یک راه‌اندازی قابل اعتماد جهانی، ما استدلال می‌کنیم که zkSync را می‌توان یک پروتکل کاملاً غیرقابل اعتماد نامید. دلیل این امر این است که هیچ سیستمی بدون نوعی تنظیم قابل اعتماد وجود ندارد. اکثر کاربران شخصاً کد منبع کیف پول‌ها، گره‌های کامل، نرم‌افزار استخراج خود را تأیید و کامپایل نمی‌کنند و مطمئناً مدارهای سخت‌افزاری که همه این موارد بر روی آنها اجرا می‌شود را تأیید نمی‌کنند. به نظر ما، سهولت تبانی پنهان توسعه دهندگان و کارشناسان در این سیستم ها بسیار بیشتر از یک راه اندازی قابل اعتماد با صدها شرکت کننده شناخته شده است. در عین حال، عملیات جاری zkSync نیاز به اعتماد صفر از طرف هیچ طرفی ندارد، که در بین تمام راه حل های مقیاس بندی L2 منحصر به فرد است.                                                                                                                        &#x20;

با این وجود، ما شما را تشویق می‌کنیم که فهرست مشارکت‌کنندگان مراسم احتراق را بررسی کنید و نظر خود را در مورد وجود حداقل یک فرد یا سازمان قابل اعتماد در میان آنها اعلام کنید. در آینده، ما در تلاش برای حذف مفروضات اعتماد به طور کلی با در آغوش گرفتن یک سیستم شفاف اثبات دانش صفر مانند RedShift (توسعه یافته توسط Matter Labs) هستیم.                                                                                                                                                &#x20;

## ممیزی های امنیتی

[ممیزی های امنیتی](https://docs.zksync.io/updates/security-audits/) قبل از هر به روز رسانی اصلی انجام می شود.                                                                       &#x20;

## برنامه باگ بونتی

علاوه بر ممیزی های امنیتی، ما برنامه پاداش اشکال را ارائه می دهیم. در [اینجا ](https://docs.zksync.io/dev/security/bug-bounty/)شما میتوانید اطلاعات بیشتری راجع به آن بخوانید.                                                                                                                                                    &#x20;

## هک نت مشوق

هر ماه قبل از اینکه یک ارتقا به تولید برسد، یک هک نت انگیزشی، یک نمونه شبکه اصلی مجزا از zkSync، با اعمال ارتقاء، مستقر خواهیم کرد. این استقرار شامل وجوه کاربر نخواهد بود، بلکه دارای وجوه واقعی است که توسط Matter Labs برای هرکسی برای دریافت جایزه آسیب‌پذیری حیاتی بدون مداخله ما استفاده می‌شود. در مقاله ما در مورد قابلیت ارتقا بیشتر بخوانید.                                                                                                                                 &#x20;
